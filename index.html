
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to minik’s documentation! &#8212; minik  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1. Getting started" href="quickstart.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="welcome-to-minik-s-documentation">
<h1>Welcome to minik’s documentation!<a class="headerlink" href="#welcome-to-minik-s-documentation" title="Permalink to this headline">¶</a></h1>
<p>Minik is a python microframework used to write clean APIs in the serverless domain.</p>
<p>As a developer working in AWS, if you would like to have full control of your development
process while having access to a familiar interface, minik is the framework for you.
To build your first API using minik, <a class="reference external" href="https://github.com/awslabs/serverless-application-model">SAM</a> and <a class="reference external" href="https://github.com/eabglobal/juniper">Juniper</a> go to the <a class="reference internal" href="quickstart.html"><span class="doc">Getting started</span></a>.</p>
<div class="section" id="familiar-interface">
<h2>Familiar interface<a class="headerlink" href="#familiar-interface" title="Permalink to this headline">¶</a></h2>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">minik.core</span> <span class="k">import</span> <span class="n">Minik</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Minik</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;Hello&quot;</span><span class="p">:</span> <span class="s2">&quot;World!&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="minik-in">
<h2>Minik in λ<a class="headerlink" href="#minik-in" title="Permalink to this headline">¶</a></h2>
<p>When working with a lambda function as the handler of a request from the API gateway.
If the endpoint is configured to use the passthrough lambda integration, your function
will have to be defined as follows:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">lambda_handler</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="c1"># Business logic! Get values out of the event object.</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;statusCode&#39;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
        <span class="s1">&#39;headers&#39;</span><span class="p">:</span> <span class="s1">&#39;response headers&#39;</span><span class="p">,</span>
        <span class="s1">&#39;body&#39;</span><span class="p">:</span> <span class="s1">&#39;response body&#39;</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>In this approach, the event your lambda function receives from the gateway looks
like this:</p>
<div class="code json highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;/test/hello&quot;</span><span class="p">,</span>
    <span class="s2">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;Accept&quot;</span><span class="p">:</span> <span class="s2">&quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Accept-Encoding&quot;</span><span class="p">:</span> <span class="s2">&quot;gzip, deflate, lzma, sdch, br&quot;</span><span class="p">,</span>
        <span class="s2">&quot;...&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;pathParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;proxy&quot;</span><span class="p">:</span> <span class="s2">&quot;hello&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;requestContext&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;accountId&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789012&quot;</span><span class="p">,</span>
        <span class="s2">&quot;resourceId&quot;</span><span class="p">:</span> <span class="s2">&quot;us4z18&quot;</span><span class="p">,</span>
        <span class="s2">&quot;stage&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
        <span class="s2">&quot;requestId&quot;</span><span class="p">:</span> <span class="s2">&quot;41b45ea3-70b5-11e6-b7bd-69b5aaebc7d9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;...&quot;</span>
        <span class="s2">&quot;resourcePath&quot;</span><span class="p">:</span> <span class="s2">&quot;/{proxy+}&quot;</span><span class="p">,</span>
        <span class="s2">&quot;httpMethod&quot;</span><span class="p">:</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
        <span class="s2">&quot;apiId&quot;</span><span class="p">:</span> <span class="s2">&quot;wt6mne2s9k&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;/{proxy+}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;httpMethod&quot;</span><span class="p">:</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
    <span class="s2">&quot;queryStringParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;me&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;stageVariables&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;stageVarName&quot;</span><span class="p">:</span> <span class="s2">&quot;stageVarValue&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Without Minik, every single API endpoint you write will need to parse that object
as a way to get the data values you care about. The entire scope of the object is
documented <a class="reference external" href="https://docs.aws.amazon.com/lambda/latest/dg/eventsources.html#eventsources-api-gateway-request">here</a>.</p>
<p>With Minik, you get a clear familiar interface that hides the complexity of dealing
with the raw representation of the event and context objects. We take care of parsing
the API gateway object for you, so that you can focus on writing your business logic.
Using the above object and endpoint as an example, our lambda function would instead be:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">minik.core</span> <span class="k">import</span> <span class="n">Minik</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Minik</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/test/</span><span class="si">{action}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">action</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">current_request</span><span class="o">.</span><span class="n">query_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>

    <span class="c1"># With the values defined in the object above this will return.</span>
    <span class="c1"># {&#39;hello&#39;: &#39;me&#39;}</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">action</span><span class="p">:</span> <span class="n">name</span><span class="p">}</span>
</pre></div>
</div>
<p>Just like with any other lambda function you are responsible for provisioning the
API Gateway and of associating the lambda function with the gateway endpoint. Minik
is just the framework that allows you to write your api in a straight forward fashion.</p>
</div>
<div class="section" id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>The team behind this framework is adopting a very minimal set of features to enhance
and streamline web development in the serverless space. These were the business
needs that encouraged us to build minik:</p>
<ul class="simple">
<li>As a developer I need to have the ability to write an API using a syntax I’m
familiar with (flask like) in the AWS ecosystem.</li>
<li>As a developer I want to decide how to build and deploy my lambda functions. I do
not want my framework to dictate these processes for me. I want to own them!</li>
<li>As a developer when installing my framework, I only want to get the framework.
I don’t want to any aditional tooling, any aditional process based workflows.</li>
<li>When using the microframework I am aware that I am responsible for the configuration
required to associate my lambda function to its enpoints.</li>
</ul>
<p>The features of this library should be absolutely driven by a very specific
business need. So far, the minimal approach has been sufficient for our team to
write and expose and API using AWS services.</p>
</div>
<div class="section" id="just-the-framework">
<h2>Just the framework<a class="headerlink" href="#just-the-framework" title="Permalink to this headline">¶</a></h2>
<p>Things to be aware of when working using minik:</p>
<ul class="simple">
<li>When used in your lambda function, you’re responsible of including the source
code of minik in your .zip artifact. For packaging purposes we recommend using
<a class="reference external" href="https://github.com/eabglobal/juniper">Juniper</a>.</li>
<li>Unlike other frameworks like <cite>Flask</cite> or <cite>Django</cite> where using the decorator is
sufficient to define the routes of the web app. In minik, you’re responsible for
linking a lambda function to a the API gateway. We recommend using a <a class="reference external" href="https://github.com/awslabs/serverless-application-model">SAM</a> template.</li>
<li>There is not local development server! For testing purposes, deploy the lambda
in AWS! There’s no excuse not to. Use <cite>sam package</cite> and <cite>sam deploy</cite> for deployment
purposes.</li>
</ul>
</div>
</div>
<div class="section" id="contents">
<h1>Contents:<a class="headerlink" href="#contents" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">1. Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#setup">1.1. Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#sam-template">1.2. SAM template</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#packaging">1.3. Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#deployments">1.4. Deployments</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#conclusion">1.5. Conclusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#working-example">1.6. Working example</a></li>
</ul>
</li>
</ul>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">minik</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">1. Getting started</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="quickstart.html" title="next chapter">1. Getting started</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, EAB Tech Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>